{"ast":null,"code":"import React,{useState,useEffect,useCallback}from'react';import{Link,useSearchParams}from'react-router-dom';import{Search,Users,Eye,Calendar,ChevronLeft,ChevronRight}from'lucide-react';import{scriptAPI,emotionAPI}from'../services/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Scripts=()=>{const[scripts,setScripts]=useState([]);const[emotions,setEmotions]=useState([]);const[loading,setLoading]=useState(true);const[pagination,setPagination]=useState({});const[searchParams,setSearchParams]=useSearchParams();// URL 파라미터에서 필터 값 가져오기\nconst currentPage=parseInt(searchParams.get('page'))||1;const searchTerm=searchParams.get('search')||'';const selectedEmotion=searchParams.get('emotion')||'';const selectedCharacters=searchParams.get('characters')||'';const sortBy=searchParams.get('sort')||'newest';// 로컬 상태\nconst[localSearch,setLocalSearch]=useState(searchTerm);const[localEmotion,setLocalEmotion]=useState(selectedEmotion);const[localCharacters,setLocalCharacters]=useState(selectedCharacters);const[localSort,setLocalSort]=useState(sortBy);const fetchData=useCallback(async()=>{try{setLoading(true);const params={page:currentPage,search:searchTerm,emotion:selectedEmotion,characters:selectedCharacters,sort:sortBy};// 빈 값 제거\nObject.keys(params).forEach(key=>{if(!params[key])delete params[key];});const response=await scriptAPI.getAll(params);setScripts(response.data.scripts);setPagination(response.data.pagination);}catch(error){console.error('대본 목록 조회 실패:',error);}finally{setLoading(false);}},[currentPage,searchTerm,selectedEmotion,selectedCharacters,sortBy]);const fetchEmotions=useCallback(async()=>{try{const response=await emotionAPI.getAll();setEmotions(response.data);}catch(error){console.error('감정 목록 조회 실패:',error);}},[]);useEffect(()=>{fetchData();fetchEmotions();},[fetchData,fetchEmotions]);const updateSearchParams=newParams=>{const params=new URLSearchParams(searchParams);Object.entries(newParams).forEach(_ref=>{let[key,value]=_ref;if(value){params.set(key,value);}else{params.delete(key);}});// 페이지는 1로 리셋 (검색/필터 변경 시)\nif(newParams.search!==undefined||newParams.emotion!==undefined||newParams.characters!==undefined||newParams.sort!==undefined){params.set('page','1');}setSearchParams(params);};const handleSearch=e=>{e.preventDefault();updateSearchParams({search:localSearch,emotion:localEmotion,characters:localCharacters,sort:localSort});};const handlePageChange=page=>{updateSearchParams({page:page.toString()});};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500 mx-auto\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-4 text-gray-600\",children:\"\\uB85C\\uB529 \\uC911...\"})]})});}return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto px-4 py-8\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-gray-800 mb-8\",children:\"\\uB300\\uBCF8 \\uBAA9\\uB85D\"}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow-md p-6 mb-8\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSearch,className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"lg:col-span-2\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:localSearch,onChange:e=>setLocalSearch(e.target.value),placeholder:\"\\uC81C\\uBAA9, \\uC0C1\\uD669, \\uAC10\\uC815\\uC73C\\uB85C \\uAC80\\uC0C9...\",className:\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent\"})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"select\",{value:localEmotion,onChange:e=>setLocalEmotion(e.target.value),className:\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"\\uBAA8\\uB4E0 \\uAC10\\uC815\"}),emotions.map(emotion=>/*#__PURE__*/_jsx(\"option\",{value:emotion.name,children:emotion.name},emotion._id))]})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"select\",{value:localCharacters,onChange:e=>setLocalCharacters(e.target.value),className:\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"\\uBAA8\\uB4E0 \\uC778\\uBB3C \\uC218\"}),[1,2,3,4,5].map(count=>/*#__PURE__*/_jsxs(\"option\",{value:count,children:[count,\"\\uBA85\"]},count))]})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"select\",{value:localSort,onChange:e=>setLocalSort(e.target.value),className:\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"newest\",children:\"\\uCD5C\\uC2E0\\uC21C\"}),/*#__PURE__*/_jsx(\"option\",{value:\"popular\",children:\"\\uC778\\uAE30\\uC21C\"}),/*#__PURE__*/_jsx(\"option\",{value:\"oldest\",children:\"\\uB4F1\\uB85D\\uC21C\"})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsxs(\"button\",{type:\"submit\",className:\"btn-primary flex items-center\",children:[/*#__PURE__*/_jsx(Search,{className:\"w-4 h-4 mr-2\"}),\"\\uAC80\\uC0C9\"]}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-gray-600\",children:[\"\\uCD1D \",pagination.totalScripts||0,\"\\uAC1C\\uC758 \\uB300\\uBCF8\"]})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8\",children:scripts.map(script=>/*#__PURE__*/_jsx(ScriptCard,{script:script},script._id))}),scripts.length===0&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 text-lg\",children:\"\\uAC80\\uC0C9 \\uACB0\\uACFC\\uAC00 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"}),/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"text-primary-600 hover:text-primary-700 mt-4 inline-block\",children:\"\\uD648\\uC73C\\uB85C \\uB3CC\\uC544\\uAC00\\uAE30\"})]}),pagination.totalPages>1&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-center items-center space-x-2\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handlePageChange(currentPage-1),disabled:!pagination.hasPrevPage,className:\"btn-secondary flex items-center disabled:opacity-50 disabled:cursor-not-allowed\",children:[/*#__PURE__*/_jsx(ChevronLeft,{className:\"w-4 h-4 mr-1\"}),\"\\uC774\\uC804\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex space-x-1\",children:Array.from({length:Math.min(5,pagination.totalPages)},(_,i)=>{const page=Math.max(1,currentPage-2)+i;if(page<=pagination.totalPages){return/*#__PURE__*/_jsx(\"button\",{onClick:()=>handlePageChange(page),className:`px-3 py-2 rounded-lg ${page===currentPage?'bg-primary-500 text-white':'bg-white text-gray-700 hover:bg-gray-50'}`,children:page},page);}return null;})}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handlePageChange(currentPage+1),disabled:!pagination.hasNextPage,className:\"btn-secondary flex items-center disabled:opacity-50 disabled:cursor-not-allowed\",children:[\"\\uB2E4\\uC74C\",/*#__PURE__*/_jsx(ChevronRight,{className:\"w-4 h-4 ml-1\"})]})]})]})});};// 대본 카드 컴포넌트\nconst ScriptCard=_ref2=>{var _script$emotions;let{script}=_ref2;return/*#__PURE__*/_jsxs(\"div\",{className:\"card p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold mb-3 text-gray-800\",children:script.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-sm text-gray-600 mb-3\",children:[/*#__PURE__*/_jsx(Users,{className:\"w-4 h-4 mr-1\"}),/*#__PURE__*/_jsxs(\"span\",{children:[script.characterCount,\"\\uBA85\"]}),/*#__PURE__*/_jsx(Eye,{className:\"w-4 h-4 ml-4 mr-1\"}),/*#__PURE__*/_jsx(\"span\",{children:script.views}),/*#__PURE__*/_jsx(Calendar,{className:\"w-4 h-4 ml-4 mr-1\"}),/*#__PURE__*/_jsx(\"span\",{children:new Date(script.createdAt).toLocaleDateString('ko-KR')})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-4\",children:(_script$emotions=script.emotions)===null||_script$emotions===void 0?void 0:_script$emotions.map((emotion,index)=>/*#__PURE__*/_jsxs(\"span\",{className:\"emotion-tag\",children:[\"#\",emotion]},index))}),/*#__PURE__*/_jsx(Link,{to:`/scripts/${script._id}`,className:\"btn-primary inline-block text-center w-full\",children:\"\\uC790\\uC138\\uD788 \\uBCF4\\uAE30\"})]});};export default Scripts;","map":{"version":3,"names":["React","useState","useEffect","useCallback","Link","useSearchParams","Search","Users","Eye","Calendar","ChevronLeft","ChevronRight","scriptAPI","emotionAPI","jsx","_jsx","jsxs","_jsxs","Scripts","scripts","setScripts","emotions","setEmotions","loading","setLoading","pagination","setPagination","searchParams","setSearchParams","currentPage","parseInt","get","searchTerm","selectedEmotion","selectedCharacters","sortBy","localSearch","setLocalSearch","localEmotion","setLocalEmotion","localCharacters","setLocalCharacters","localSort","setLocalSort","fetchData","params","page","search","emotion","characters","sort","Object","keys","forEach","key","response","getAll","data","error","console","fetchEmotions","updateSearchParams","newParams","URLSearchParams","entries","_ref","value","set","delete","undefined","handleSearch","e","preventDefault","handlePageChange","toString","className","children","onSubmit","type","onChange","target","placeholder","map","name","_id","count","totalScripts","script","ScriptCard","length","to","totalPages","onClick","disabled","hasPrevPage","Array","from","Math","min","_","i","max","hasNextPage","_ref2","_script$emotions","title","characterCount","views","Date","createdAt","toLocaleDateString","index"],"sources":["D:/carcor/인터넷 쇼핑/frontend/src/pages/Scripts.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\r\nimport { Link, useSearchParams } from 'react-router-dom';\r\nimport { Search, Users, Eye, Calendar, ChevronLeft, ChevronRight } from 'lucide-react';\r\nimport { scriptAPI, emotionAPI } from '../services/api';\r\n\r\nconst Scripts = () => {\r\n  const [scripts, setScripts] = useState([]);\r\n  const [emotions, setEmotions] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [pagination, setPagination] = useState({});\r\n  const [searchParams, setSearchParams] = useSearchParams();\r\n\r\n  // URL 파라미터에서 필터 값 가져오기\r\n  const currentPage = parseInt(searchParams.get('page')) || 1;\r\n  const searchTerm = searchParams.get('search') || '';\r\n  const selectedEmotion = searchParams.get('emotion') || '';\r\n  const selectedCharacters = searchParams.get('characters') || '';\r\n  const sortBy = searchParams.get('sort') || 'newest';\r\n\r\n  // 로컬 상태\r\n  const [localSearch, setLocalSearch] = useState(searchTerm);\r\n  const [localEmotion, setLocalEmotion] = useState(selectedEmotion);\r\n  const [localCharacters, setLocalCharacters] = useState(selectedCharacters);\r\n  const [localSort, setLocalSort] = useState(sortBy);\r\n\r\n  const fetchData = useCallback(async () => {\r\n    try {\r\n      setLoading(true);\r\n      const params = {\r\n        page: currentPage,\r\n        search: searchTerm,\r\n        emotion: selectedEmotion,\r\n        characters: selectedCharacters,\r\n        sort: sortBy\r\n      };\r\n\r\n      // 빈 값 제거\r\n      Object.keys(params).forEach(key => {\r\n        if (!params[key]) delete params[key];\r\n      });\r\n\r\n      const response = await scriptAPI.getAll(params);\r\n      setScripts(response.data.scripts);\r\n      setPagination(response.data.pagination);\r\n    } catch (error) {\r\n      console.error('대본 목록 조회 실패:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [currentPage, searchTerm, selectedEmotion, selectedCharacters, sortBy]);\r\n\r\n  const fetchEmotions = useCallback(async () => {\r\n    try {\r\n      const response = await emotionAPI.getAll();\r\n      setEmotions(response.data);\r\n    } catch (error) {\r\n      console.error('감정 목록 조회 실패:', error);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    fetchData();\r\n    fetchEmotions();\r\n  }, [fetchData, fetchEmotions]);\r\n\r\n  const updateSearchParams = (newParams) => {\r\n    const params = new URLSearchParams(searchParams);\r\n    \r\n    Object.entries(newParams).forEach(([key, value]) => {\r\n      if (value) {\r\n        params.set(key, value);\r\n      } else {\r\n        params.delete(key);\r\n      }\r\n    });\r\n    \r\n    // 페이지는 1로 리셋 (검색/필터 변경 시)\r\n    if (newParams.search !== undefined || newParams.emotion !== undefined || \r\n        newParams.characters !== undefined || newParams.sort !== undefined) {\r\n      params.set('page', '1');\r\n    }\r\n    \r\n    setSearchParams(params);\r\n  };\r\n\r\n  const handleSearch = (e) => {\r\n    e.preventDefault();\r\n    updateSearchParams({\r\n      search: localSearch,\r\n      emotion: localEmotion,\r\n      characters: localCharacters,\r\n      sort: localSort\r\n    });\r\n  };\r\n\r\n  const handlePageChange = (page) => {\r\n    updateSearchParams({ page: page.toString() });\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500 mx-auto\"></div>\r\n          <p className=\"mt-4 text-gray-600\">로딩 중...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50\">\r\n      <div className=\"container mx-auto px-4 py-8\">\r\n        <h1 className=\"text-3xl font-bold text-gray-800 mb-8\">대본 목록</h1>\r\n\r\n        {/* 필터 섹션 */}\r\n        <div className=\"bg-white rounded-lg shadow-md p-6 mb-8\">\r\n          <form onSubmit={handleSearch} className=\"space-y-4\">\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4\">\r\n              {/* 검색 */}\r\n              <div className=\"lg:col-span-2\">\r\n                <input\r\n                  type=\"text\"\r\n                  value={localSearch}\r\n                  onChange={(e) => setLocalSearch(e.target.value)}\r\n                  placeholder=\"제목, 상황, 감정으로 검색...\"\r\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\r\n                />\r\n              </div>\r\n\r\n              {/* 감정 필터 */}\r\n              <div>\r\n                <select\r\n                  value={localEmotion}\r\n                  onChange={(e) => setLocalEmotion(e.target.value)}\r\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\r\n                >\r\n                  <option value=\"\">모든 감정</option>\r\n                  {emotions.map((emotion) => (\r\n                    <option key={emotion._id} value={emotion.name}>\r\n                      {emotion.name}\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n\r\n              {/* 인물 수 필터 */}\r\n              <div>\r\n                <select\r\n                  value={localCharacters}\r\n                  onChange={(e) => setLocalCharacters(e.target.value)}\r\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\r\n                >\r\n                  <option value=\"\">모든 인물 수</option>\r\n                  {[1, 2, 3, 4, 5].map((count) => (\r\n                    <option key={count} value={count}>\r\n                      {count}명\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n\r\n              {/* 정렬 */}\r\n              <div>\r\n                <select\r\n                  value={localSort}\r\n                  onChange={(e) => setLocalSort(e.target.value)}\r\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\r\n                >\r\n                  <option value=\"newest\">최신순</option>\r\n                  <option value=\"popular\">인기순</option>\r\n                  <option value=\"oldest\">등록순</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"flex justify-between items-center\">\r\n              <button\r\n                type=\"submit\"\r\n                className=\"btn-primary flex items-center\"\r\n              >\r\n                <Search className=\"w-4 h-4 mr-2\" />\r\n                검색\r\n              </button>\r\n\r\n              <span className=\"text-sm text-gray-600\">\r\n                총 {pagination.totalScripts || 0}개의 대본\r\n              </span>\r\n            </div>\r\n          </form>\r\n        </div>\r\n\r\n        {/* 대본 목록 */}\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8\">\r\n          {scripts.map((script) => (\r\n            <ScriptCard key={script._id} script={script} />\r\n          ))}\r\n        </div>\r\n\r\n        {/* 대본이 없는 경우 */}\r\n        {scripts.length === 0 && (\r\n          <div className=\"text-center py-12\">\r\n            <p className=\"text-gray-600 text-lg\">검색 결과가 없습니다.</p>\r\n            <Link to=\"/\" className=\"text-primary-600 hover:text-primary-700 mt-4 inline-block\">\r\n              홈으로 돌아가기\r\n            </Link>\r\n          </div>\r\n        )}\r\n\r\n        {/* 페이지네이션 */}\r\n        {pagination.totalPages > 1 && (\r\n          <div className=\"flex justify-center items-center space-x-2\">\r\n            <button\r\n              onClick={() => handlePageChange(currentPage - 1)}\r\n              disabled={!pagination.hasPrevPage}\r\n              className=\"btn-secondary flex items-center disabled:opacity-50 disabled:cursor-not-allowed\"\r\n            >\r\n              <ChevronLeft className=\"w-4 h-4 mr-1\" />\r\n              이전\r\n            </button>\r\n\r\n            <div className=\"flex space-x-1\">\r\n              {Array.from({ length: Math.min(5, pagination.totalPages) }, (_, i) => {\r\n                const page = Math.max(1, currentPage - 2) + i;\r\n                if (page <= pagination.totalPages) {\r\n                  return (\r\n                    <button\r\n                      key={page}\r\n                      onClick={() => handlePageChange(page)}\r\n                      className={`px-3 py-2 rounded-lg ${\r\n                        page === currentPage\r\n                          ? 'bg-primary-500 text-white'\r\n                          : 'bg-white text-gray-700 hover:bg-gray-50'\r\n                      }`}\r\n                    >\r\n                      {page}\r\n                    </button>\r\n                  );\r\n                }\r\n                return null;\r\n              })}\r\n            </div>\r\n\r\n            <button\r\n              onClick={() => handlePageChange(currentPage + 1)}\r\n              disabled={!pagination.hasNextPage}\r\n              className=\"btn-secondary flex items-center disabled:opacity-50 disabled:cursor-not-allowed\"\r\n            >\r\n              다음\r\n              <ChevronRight className=\"w-4 h-4 ml-1\" />\r\n            </button>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n// 대본 카드 컴포넌트\r\nconst ScriptCard = ({ script }) => {\r\n  return (\r\n    <div className=\"card p-6\">\r\n      <h3 className=\"text-xl font-semibold mb-3 text-gray-800\">\r\n        {script.title}\r\n      </h3>\r\n      \r\n      <div className=\"flex items-center text-sm text-gray-600 mb-3\">\r\n        <Users className=\"w-4 h-4 mr-1\" />\r\n        <span>{script.characterCount}명</span>\r\n        \r\n        <Eye className=\"w-4 h-4 ml-4 mr-1\" />\r\n        <span>{script.views}</span>\r\n        \r\n        <Calendar className=\"w-4 h-4 ml-4 mr-1\" />\r\n        <span>{new Date(script.createdAt).toLocaleDateString('ko-KR')}</span>\r\n      </div>\r\n      \r\n      <div className=\"mb-4\">\r\n        {script.emotions?.map((emotion, index) => (\r\n          <span key={index} className=\"emotion-tag\">\r\n            #{emotion}\r\n          </span>\r\n        ))}\r\n      </div>\r\n      \r\n      <Link\r\n        to={`/scripts/${script._id}`}\r\n        className=\"btn-primary inline-block text-center w-full\"\r\n      >\r\n        자세히 보기\r\n      </Link>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Scripts; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}